---
Generated: 2025-01-27 14:30:37
Ticket Number: 68
---

## Title

Create reusable Modal component with focus management and accessibility

## Type

Feature

## Priority

High

## Story Points

8

## Labels

- ui-components
- layout
- accessibility
- reusable

## Git Branch

`feat/workbench-68-modal-component`

## Description

Create a reusable Modal component in `presentation/components/ui/Modal.tsx` with proper focus management, accessibility, and keyboard navigation. The component must follow project conventions and include full ARIA attributes for dialogs.

## User Story

As a developer, I want a reusable Modal component with focus management and accessibility so that I can create accessible dialogs and modals across the application with proper keyboard navigation and screen reader support.

## Acceptance Criteria

1. **Component Structure**
   - [ ] Modal component created in `presentation/components/ui/Modal.tsx`
   - [ ] Component follows project conventions (arrow function, export default, `type` for props)
   - [ ] Component accepts props: `isOpen`, `onClose`, `title`, `children`, `footer` (optional), `size`, `ariaLabel`, `ariaDescribedBy`
   - [ ] Component uses SCSS variables from `styles/variables/*` for all styling values
   - [ ] Component SCSS file created in `src/styles/components/ui/Modal.module.scss`

2. **Modal Behavior**
   - [ ] Opens when `isOpen` is true
   - [ ] Closes when `isOpen` is false
   - [ ] Backdrop overlay behind modal
   - [ ] Clicking backdrop closes modal (optional, configurable)
   - [ ] Modal appears centered on screen
   - [ ] Modal size variants: `small`, `medium` (default), `large`, `full`

3. **Focus Management**
   - [ ] Focus trapped within modal when open
   - [ ] Focus moves to first focusable element when modal opens
   - [ ] Focus returns to trigger element when modal closes
   - [ ] Tab key cycles through focusable elements within modal
   - [ ] Shift+Tab cycles backwards
   - [ ] Focus does not escape modal boundary

4. **Keyboard Navigation**
   - [ ] Escape key closes modal
   - [ ] Tab key moves focus between focusable elements
   - [ ] Shift+Tab moves focus backwards
   - [ ] Enter key activates buttons/links
   - [ ] Arrow keys navigate if applicable (for custom components)

5. **Accessibility**
   - [ ] `role="dialog"` or `role="alertdialog"` as appropriate
   - [ ] `aria-modal="true"` to prevent background interaction
   - [ ] `aria-labelledby` pointing to modal title
   - [ ] `aria-describedby` pointing to modal description (if provided)
   - [ ] `aria-label` or `aria-labelledby` for modal context
   - [ ] Background content has `aria-hidden="true"` when modal is open
   - [ ] Screen reader announces modal title when opened
   - [ ] Screen reader announces modal content
   - [ ] Accessibility IDs use centralized utilities from `shared/a11y/`

6. **Modal Sections**
   - [ ] Header section: title and close button
   - [ ] Body section: main content (children)
   - [ ] Footer section (optional): action buttons or footer content
   - [ ] Close button (X icon) in header

7. **Styling**
   - [ ] All colors use SCSS variables (no hardcoded values)
   - [ ] All spacing uses SCSS variables
   - [ ] All font sizes use SCSS variables
   - [ ] Border radius uses SCSS variables
   - [ ] Shadow/elevation uses SCSS variables
   - [ ] Backdrop overlay with semi-transparent background
   - [ ] Uses BEM methodology for class names (kebab-case, `__` for elements, `--` for modifiers)
   - [ ] No inline CSS
   - [ ] No `!important`
   - [ ] Smooth open/close animations (optional)

8. **Body Scroll Lock**
   - [ ] Prevents background scrolling when modal is open
   - [ ] Restores scrolling when modal closes
   - [ ] Proper cleanup on unmount

9. **i18n Integration**
   - [ ] Title text uses `useTranslation()` hook
   - [ ] Close button label uses i18n
   - [ ] Translation keys added to `src/shared/i18n/messages/fr.json`
   - [ ] Translation keys follow naming conventions

10. **TypeScript**
    - [ ] Props typed with `type` (not `interface`)
    - [ ] Explicit return type for component
    - [ ] Proper TypeScript types for all props
    - [ ] No `any` types
    - [ ] Support for `React.ReactNode` as children, title, footer
    - [ ] Type-safe size: `"small" | "medium" | "large" | "full"`

11. **Performance**
    - [ ] Uses React Portal for modal rendering (ensures proper z-index)
    - [ ] Efficient rendering (only renders when `isOpen` is true, or uses display: none)
    - [ ] Proper cleanup of event listeners
    - [ ] Proper cleanup of focus management on unmount

12. **Component Export**
    - [ ] Component exported as default
    - [ ] Component can be imported from `@/presentation/components/ui/Modal`

## Technical Considerations

- **Location**: `src/presentation/components/ui/Modal.tsx`
- **SCSS**: `src/styles/components/ui/Modal.module.scss`
- **SCSS Variables**: Add modal-related variables to `styles/variables/colors.scss`, `styles/variables/spacing.scss`, and `styles/variables/shadow.scss` if needed
- **Accessibility**: Use utilities from `shared/a11y/` for accessibility IDs
- **Focus Management**: Use `useRef` and `useEffect` for focus trapping, or use a library (e.g., `focus-trap-react`)
- **Portal**: Use React Portal (`createPortal`) for modal rendering
- **Body Scroll Lock**: Implement scroll lock or use a library (e.g., `body-scroll-lock`)
- **i18n**: Use `useTranslation()` hook from `@/shared/i18n` for all user-facing strings
- **Button Component**: Use Button component from `@/presentation/components/ui/Button` for close button
- **TypeScript**: Strict mode, explicit types, no `any`
- **Clean Architecture**: Component is pure UI, no business logic
- **Conventions**: Arrow function with export default, `type` for props, SCSS variables only

## Definition of Done

- [ ] Modal component created with focus management and accessibility
- [ ] Component uses SCSS variables (no hardcoded values)
- [ ] Component follows project conventions (arrow function, export default, `type` for props)
- [ ] Full accessibility support (ARIA attributes, focus trapping, keyboard navigation)
- [ ] Body scroll lock implemented
- [ ] i18n integration for all user-facing strings
- [ ] TypeScript types are correct and explicit
- [ ] Component is tested (unit tests in `__tests__/presentation/components/ui/Modal.test.tsx`)
- [ ] SCSS variables added if needed
- [ ] Translation keys added to `fr.json`
- [ ] Code review completed
- [ ] Component is documented (JSDoc comments)
