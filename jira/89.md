---
Generated: 2026-01-16 17:05:11
Ticket Number: 89
---

## Jira Ticket

### Summary

Create the **Ticket detail page** at `/[projectId]/tickets/[id]` with ticket overview, edit flow, subtasks, and epic linking.

### Type

Story

### Priority

High

### Story Points

13

### Labels

- pages
- tickets
- routing
- forms
- react-query
- clean-architecture
- i18n
- a11y

### Git Branch

`feat/workbench-89-ticket-detail-page`

---

### Description

Add a dedicated ticket detail route to view and edit a ticket, manage subtasks, and link/unlink to an epic, enabling navigation from backlog/board/epic detail.

### User Story

As a project member, I want to view and edit a ticket so that I can update its details and track progress.

---

### Acceptance Criteria

- A new route exists at `/(auth)/[projectId]/tickets/[id]`.
- The page supports:
  - Ticket overview display (title, description, status, priority, assignee, etc. as available).
  - Edit form for ticket fields (save triggers a mutation via hook â†’ usecase).
  - Subtasks section (list + create/update/remove entry points; full functionality can be phased but must have a clear plan).
  - Epic link section (display current epic and allow linking/unlinking).
- All user-facing strings are i18n-driven.
- Validation happens in usecases (Zod) for any user input; UI only displays validation messages.
- Accessible forms:
  - Labels are connected to inputs, errors use `role="alert"`, fields use `aria-invalid` when appropriate.
  - Keyboard navigation works across the page.

---

### Technical Considerations (Clean Architecture)

- **Presentation**
  - Create `src/app/(auth)/[projectId]/tickets/[id]/page.tsx`.
  - Create page-specific components under `src/presentation/components/ticketDetail.../`.
  - Add hooks such as `useTicketDetail`, `useUpdateTicket`, `useTicketSubtasks`, `useLinkTicketToEpic`.
- **Usecases**
  - Add/extend usecases: `getTicketDetail`, `updateTicket`, `listSubtasks`, `createSubtask`, `linkTicketToEpic`, `unlinkTicketFromEpic` (as needed).
  - Validate inputs with Zod schemas in the domain layer (`src/core/domain/.../schemas`).
- **Ports + Infrastructure**
  - Ensure repository contracts cover required operations and are implemented in `src/infrastructure/supabase/`.
  - Map Supabase errors to repository/domain errors consistently.
- **Tests**
  - Unit tests for usecases in `__tests__/core/usecases/` covering success and error flows.

---

### Definition of Done

- Ticket detail route is usable end-to-end: load, edit, save, and navigate.
- Input validation is in usecases (not components).
- i18n + accessibility requirements are met.
- Usecase unit tests are added/updated; no page tests are created.

