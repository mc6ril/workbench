---
Generated: 2025-12-23 13:00:00
Ticket Number: 17
---

# Project Overview & Access Management Screen

- Type: Task
- Priority: High
- Story Points: 5
- Labels: auth, ui, project-access, verification
- Git Branch: `feat/workbench-17-project-overview-screen`

## Description

Implement a project overview screen that allows users to see their granted projects, create a new project (if they have no project access), or request access to a project via project ID. This screen verifies that the project membership and RLS system work correctly.

## User Story

As a user, I want to see my projects and create or access projects so that I can start using Workbench.

## Acceptance Criteria

- [ ] **Project Overview Page**
  - [ ] Route created: `/projects` or `/` (home route)
  - [ ] Display list of projects where user is a member (if any)
  - [ ] Show project name and user role (admin, member, viewer)
  - [ ] Click on project to navigate to project dashboard

- [ ] **Create New Project** (if user has no project access)
  - [ ] Display "Create Project" form with project name input
  - [ ] Integration with `createProject` usecase via React Query mutation
  - [ ] Auto-redirect to project after creation (user is auto-added as admin)
  - [ ] Only show if user has no existing project access (check `has_any_project_access()`)

- [ ] **Request Project Access** (if user has no project access)
  - [ ] Display input field to enter project ID
  - [ ] Submit button to request access
  - [ ] Note: This will fail initially as only admins can add members (future enhancement)
  - [ ] Display appropriate error message explaining admin must add user

- [ ] **Loading & Error States**
  - [ ] Loading state while fetching projects
  - [ ] Error state if project fetch fails
  - [ ] Empty state if user has no projects (show create/request options)

## Technical Considerations

- **Domain**: Project entity (already exists in `core/domain/project/`)
- **Usecases**:
  - `listProjects` - List projects where user is member (new, uses `ProjectRepository.list()`)
  - `createProject` - Create new project (may need to create or use existing)
- **Infrastructure**:
  - `ProjectRepository.list()` - Already exists, returns projects user can access (RLS filters)
- **Presentation**:
  - Project overview page: `app/projects/page.tsx` or `app/page.tsx`
  - React Query hook: `useProjects()` - List user projects
  - React Query mutation: `useCreateProject()` - Create project
  - Component: Project list display component (optional, can be inline)
- **Dependencies**: Existing `ProjectRepository`, `getProject` usecase, React Query

**Note**: RLS policies automatically filter projects to only show those where user is a member. The `listProjects` usecase simply calls `repository.list()` and RLS handles the filtering.

## Definition of Done

- [ ] Project overview page displays user's projects
- [ ] Create project form works and creates project (user auto-added as admin via trigger)
- [ ] Request access input field displays (with note about admin requirement)
- [ ] Loading, error, and empty states handled
- [ ] Navigation to project dashboard works
- [ ] Uses existing React Query hooks pattern
- [ ] No hardcoded values (use SCSS variables when styling)
- [ ] Basic accessibility (form labels, error messages, keyboard navigation)
- [ ] TypeScript compilation succeeds
- [ ] No linting errors

## Related Components

- Files: `app/projects/page.tsx` (or `app/page.tsx`), `src/core/usecases/listProjects.ts`, `src/presentation/hooks/useProjects.ts`
- Dependencies: `ProjectRepository` (exists), React Query hooks pattern (established)
- Documentation: `docs/authentication-verification.md`, `docs/row-level-security.md`, `supabase/migrations/000004_auto_add_creator_as_admin.sql`
