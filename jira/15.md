---
Generated: 2025-12-23 10:36:44
Ticket Number: 15
---

# Setup Mock Infrastructure for Testing

- Type: Task
- Priority: Medium
- Story Points: 2
- Labels: testing, mocks, supabase, react-query
- Git Branch: `feat/workbench-15-testing-mocks`

## Description

Setup a mock infrastructure layer for tests, including mocks for Supabase client, React Query, and other external dependencies.

## User Story

As a developer, I want reusable mocks for Supabase and external dependencies so that I can test usecases and components without hitting real services.

## Acceptance Criteria

- [ ] Supabase client mock created and usable in tests
- [ ] React Query QueryClient and providers mocked for tests
- [ ] External dependencies (if any) have basic mocks
- [ ] Example test using mocks added

## Technical Considerations

- Domain: none
- Usecases: usecases should be testable with mocked repositories
- Infrastructure: Supabase client and repositories should be mockable
- Presentation: React Query hooks tested with mock QueryClient

## Definition of Done

- [ ] Mocks implemented under `__mocks__/` or dedicated test utilities directory
- [ ] Tests using mocks run successfully
- [ ] Documentation added to testing guidelines on how to use mocks

## Related Components

- Files: `__mocks__/supabase.ts`, `__tests__/utils/testQueryClient.ts`, etc.
- Dependencies: Jest mocking utilities, Supabase client
